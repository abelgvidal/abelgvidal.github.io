<!doctype html><html><head><title>Abel's notes - Much Ado About Four Platforms </title><link rel=stylesheet type=text/css href=/css/fonts.css><link rel=stylesheet type=text/css href=/css/fontawesome.css><link rel=stylesheet type=text/css href=/css/styles.min.d1b3428734153d8c3b5e2f3598da20a6372f630ae87c763594b98c554c580343.css><meta charset=UTF-8><meta name=author content="Abel GonzÃ¡lez Vidal"><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-37PFXMQRGD"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37PFXMQRGD")</script><script type=text/javascript async src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body><header class=page-header><div class=myname><h2><a href=https://blog.lpsz.org/>Abel's notes</a></h2></div><nav><ul class=navbar><li><a href=/tags/til><span>TIL</span></a></li><li><a href=/posts><span>Archive</span></a></li><li><a href=/tags/books/><span>Books</span></a></li><li><a href=/posts/aboutme/><span>About me</span></a></li></ul></nav></header><div id=content><main><article><h1 class="page-title blog">Much Ado About Four Platforms</h1><p class=blog-post-info>Posted: <time>2025-12-15</time>
<span class=blog-taxonomy-info>&nbsp; | &nbsp; Tags:
<a class=blog-taxonomy-info href=/tags/architect>architect</a>, <a class=blog-taxonomy-info href=/tags/platform>platform</a></span></p><div class=blog-post-content><p>When K8s wants to end a pod, it gives it the change to end &ldquo;gracefully&rdquo;.</p><ul><li>The preStop hook (if exists) is executed before killing the pod. This is a great place to put:<ul><li>code that waits for connections to close</li><li>notifies other components</li><li>cleans up stuff</li></ul></li><li>k8s it marks the pod as status=TERMINATING</li><li>pods is marked as NotReady</li><li>Because is marked as NotReady its endpoint is erased from service endpoints (no more traffic received)</li><li>Then, it sends to the pod a signal SIGTERM to the main process in each container of the pod.</li><li>This allow a period (default 30 seconds) to end the process by itself.</li><li>If the process does not end by itself, k8s sends a SIGKILL to the main process in each container of the pod.</li></ul></div></article></main></div><footer><span></span></footer></body></html>